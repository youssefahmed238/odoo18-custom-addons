<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="custom_ticket_submit_form" name="Custom Helpdesk: Submit a Ticket Form">
            <div class="container">
                <h2 class="text-muted">
                    Submit a Ticket
                    <t t-if="multiple_teams">-
                        <t t-out="team.name"/>
                    </t>
                </h2>
                <div class="oe_structure" id="oe_structure_whelpdesk_form_1"/>
                <span class="hidden" data-for="helpdesk_ticket_form"
                      t-att-data-values="{'team_id': team and team.id or ''}"/>
                <div id="helpdesk_section">
                    <section class="s_website_form pt16 pb16 o_colored_level" data-vcss="001"
                             data-snippet="s_website_form" data-name="Form">
                        <div class="container">
                            <form id="helpdesk_ticket_form" action="/website/form/" method="post"
                                  enctype="multipart/form-data" class="o_mark_required" data-mark="*"
                                  data-pre-fill="true" data-success-mode="redirect"
                                  data-success-page="/your-ticket-has-been-submitted" data-model_name="helpdesk.ticket"
                                  hide-change-model="true">
                                <div class="s_website_form_rows row s_col_no_bgcolor">

                                    <!-- Full Name -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_required"
                                         data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label"
                                                   style="width: 200px" for="helpdesk1">
                                                <span class="s_website_form_label_content">Full Name</span>
                                                <span class="s_website_form_mark">*</span>
                                            </label>
                                            <div class="col-sm">
                                                <input type="text" class="form-control s_website_form_input"
                                                       name="partner_name" required="1" data-fill-with="name"
                                                       id="helpdesk1"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Phone Number -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_required"
                                         data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label"
                                                   style="width: 200px" for="helpdesk2">
                                                <span class="s_website_form_label_content">Phone Number</span>
                                            </label>
                                            <div class="col-sm">
                                                <input type="tel" class="form-control s_website_form_input"
                                                       name="partner_phone" data-fill-with="phone" id="helpdesk2"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Email Address -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_required"
                                         data-type="email" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label "
                                                   style="width: 200px" for="helpdesk3">
                                                <span class="s_website_form_label_content">Email Address</span>
                                                <span class="s_website_form_mark">*</span>
                                            </label>
                                            <div class="col-sm">
                                                <input type="email" class="form-control s_website_form_input"
                                                       name="partner_email" required="1" data-fill-with="email"
                                                       id="helpdesk3"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Company Name -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_custom"
                                         data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label"
                                                   style="width: 200px" for="helpdesk4">
                                                <span class="s_website_form_label_content">Company Name</span>
                                            </label>
                                            <div class="col-sm">
                                                <input type="text" class="form-control s_website_form_input"
                                                       name="partner_company_name"
                                                       data-fill-with="commercial_company_name" id="helpdesk4"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Message Subject -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_model_required"
                                         data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label "
                                                   style="width: 200px" for="helpdesk5">
                                                <span class="s_website_form_label_content">Message Subject</span>
                                                <span class="s_website_form_mark">*</span>
                                            </label>
                                            <div class="col-sm">
                                                <input type="text" class="form-control s_website_form_input" name="name"
                                                       required="true" id="helpdesk5"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Project -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_custom"
                                         data-type="many2one" data-name="project_id">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label"
                                                   style="width: 200px" for="helpdesk_project">
                                                <span class="s_website_form_label_content">Project</span>
                                            </label>
                                            <div class="col-sm">
                                                <select class="form-select s_website_form_input" name="project_task_id"
                                                        id="helpdesk_project">
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Asset -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_custom"
                                         data-type="many2one" data-name="asset_id">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label"
                                                   style="width: 200px" for="helpdesk_asset">
                                                <span class="s_website_form_label_content">Asset</span>
                                            </label>
                                            <div class="col-sm">
                                                <select class="form-select s_website_form_input" name="asset_id"
                                                        id="helpdesk_asset">
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Location -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_custom"
                                         data-type="many2one" data-name="location_id">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label"
                                                   style="width: 200px" for="helpdesk_location">
                                                <span class="s_website_form_label_content">Location</span>
                                            </label>
                                            <div class="col-sm">
                                                <select class="form-select s_website_form_input" name="location_id"
                                                        id="helpdesk_location">
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Ask Your Question -->
                                    <div class="mb-0 py-2 s_website_form_field col-12" data-type="char"
                                         data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label "
                                                   style="width: 200px" for="helpdesk6">
                                                <span class="s_website_form_label_content">Ask Your Question</span>
                                                <span class="s_website_form_mark">*</span>
                                            </label>
                                            <div class="col-sm">
                                                <textarea type="text" class="form-control s_website_form_input"
                                                          name="description" required="true" id="helpdesk6" rows="5"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Attachment -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_custom"
                                         data-type="binary" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class=" col-sm-auto s_website_form_label " style="width: 200px"
                                                   for="helpdesk7">
                                                <span class="s_website_form_label_content">Attachment</span>
                                            </label>
                                            <div class="col-sm">
                                                <input type="file" class="form-control s_website_form_input"
                                                       name="Attachment" id="helpdesk7"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Helpdesk Team (Hidden Field) -->
                                    <div class="mb-0 py-2 s_website_form_field col-12 s_website_form_dnone"
                                         data-name="Field"
                                         data-type="record" data-model="helpdesk.team">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label"
                                                   style="width: 200px">
                                                <span class="s_website_form_label_content">Helpdesk Team</span>
                                            </label>
                                            <div class="col-sm">
                                                <input type="hidden" class="form-control s_website_form_input"
                                                       name="team_id" id="helpdesk8"/>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Submit Button -->
                                    <div class="mb-0 py-2 col-12 s_website_form_submit" data-name="Submit Button">
                                        <div style="width: 200px;" class="s_website_form_label"/>
                                        <a href="#" role="button"
                                           class="btn btn-primary btn-lg s_website_form_send o_default_snippet_text">
                                            Submit Ticket
                                        </a>
                                        <span id="s_website_form_result"/>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </section>
                </div>
            </div>
        </template>

        <!-- Inherit the existing helpdesk team template to replace the ticket submission form -->
        <template id="custom_team" inherit_id="website_helpdesk.team" name="Custom Team Form">
            <xpath expr="//t[@t-call='#{template_xmlid}']" position="replace">
                <t t-call="website_helpdesk_new_fields.custom_ticket_submit_form"/>
            </xpath>
        </template>
    </data>
</odoo>